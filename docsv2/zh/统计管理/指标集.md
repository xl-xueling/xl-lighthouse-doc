## 指标集的作用

在XL-LightHouse中几乎所有的Web端操作都围绕着四个核心概念“统计工程”、“统计组”、“统计项”和“指标集”。

系统设计原则是将用户分为两种类型：指标管理者（创建指标、接入指标、权限管理等）和指标使用者（查看数据），当然同一个用户可以同时具备上面一种或两种角色。

“统计工程”、“统计组”、“统计项”这些概念更多是面向指标管理者来使用的，而指标集则更多是面向指标的使用者。

统计工程的划分会受到创建人所在部门、个人身份、职能、所负责业务、数据指标的隐私性等因素的影响，而这对于”指标使用者“来说，一个业务场景要关注的指标可能分布在多个统计工程内，一个统计工程内的所有指标也未必都需要，而指标集则提供了一种更灵活、更能满足个人喜好的指标管理方式。

指标集所提供的功能：

+ 可根据需要添加任意统计工程（包括其下所有统计项）、任意单个统计项和数据视图（仅限付费版本）到指标集中；
+ 指标集的层级目录可根据个人喜好随意设置；
+ 指标集已绑定的元素如果从层级结构中移除会被放置在”指标库“中，可以再次添加到层级目录中；
+ 指标集中每个指标的名称可根据需要进行修改（不会影响原来统计项的名称）；
+ 关注指标集会被添加到快捷导航和首页展示位中便于查看；
+ 私有指标集需要管理员主动授权后才可访问，对其他用户隐藏，具有更好的隐私性；

## 指标集基础信息

1、指标集名称

+ 必要字段，可以使用中文、英文等各种字符；
+ 建议使用具有业务标识性的名称便于他人搜索查看；

2、描述信息

+ 必要字段，用于描述当前指标集的作用；

3、私有类型

+ 指标集分为私有指标集和公开指标集；
+ 指标集的访问权限和指标集下所有指标的访问权限是不同的概念，拥有指标集的访问权限只是可以进入到该指标集，而如果没有相应指标的权限依旧不能查看数据指标，在系统中每个数据指标访问权限的授予和审批均由”统计工程管理员“处理。
+ 公开指标集对所有用户开放，所有用户均可在”指标集 - 全部指标集“页面中查看到。
+ 私有指标只对拥有访问权限的用户开放，对其他用户隐藏。

## 创建指标集

+ 用户进入”指标集“页面点击”创建指标集“按钮打开创建弹框，录入相关信息即可完成创建；
+ 创建指标集时可选择是否初始化设置访问权限信息；
+ 指标集数量没有使用限制；

## 绑定元素

创建完成后进入指标集页面，点击“绑定元素”选项卡 -> 点击"绑定"按钮，进行绑定操作。

一个指标集下可包含若干个统计工程、统计项和数据视图，为了指标集加载体验，所包含元素上限为500个元素，不建议将过多指标都放在一个指标集中，可以按照业务属性拆分成多个指标集管理。

1、可绑定元素类型

+ 统计工程

绑定统计工程即将所选择工程下所有数据指标全部添加到指标集中，系统默认保持统计工程的展示层级结构；

+ 统计项

绑定统计项即将所选择的统计项添加到指标集中；

+ 数据视图（付费版本）

绑定数据视图即将所选择的数据视图添加到指标集中；

2、层级结构

在指标集页面的“层级结构”选项卡中可对当前指标集的展示结构和各级节点的名称进行修改。

+ 层级结构将节点分为两种类型：目录节点（如统计工程、统计组、自定义创建的目录）和叶子节点（统计项、数据视图）；
+ 目录节点下可以放置子目录或叶子节点，叶子节点下不能添加其他子元素；
+ 选择叶子节点按住鼠标右键可以拖动该节点到其他目录下；
+ 所有节点均支持重命名；
+ 选择叶子节点点击“删除”按钮，可将该节点从指标集展示结构中移除，移除后元素都放在“指标库”中；

3、指标库

指标库用于存储当前指标集所绑定元素的所有“叶子节点”（统计项和数据视图），包括已从层级目录中移除的节点，所有移除的节点可以重新添加到层级目录中。

## 修改指标集

在指标集页面点击“修改指标集”按钮可对当前指标集信息进行修改。

## 指标集权限

指标集的权限机制与统计工程权限机制略有不同，指标集的访问权限采用管理员主动赋予的机制，即其他用户无法主动申请指标集权限。

指标集的权限分为：

+ 管理员权限

指标集创建者默认拥有管理员权限，并且管理员可在指标集页面的“权限管理”对话框中添加其他管理员。

管理员权限可以对指标集基础信息、绑定元素、层级结构、权限归属等信息进行修改、也可以删除当前指标集或查看指标集视图。

+ 访问权限

只拥有访问权限的用户无法编辑指标集的信息，只可以查看相关内容。

## 删除指标集

管理员在指标集页面点击“更多” -> "删除指标集"按钮，弹出删除确认框，点击确定后可删除当前指标集。

由于在系统层面指标集属于较为轻量级的指标管理功能，所以删除指标集不会验证是否包含已绑定元素，系统直接进行删除操作。删除指标集的操作不会影响所包含统计指标的运行状态。